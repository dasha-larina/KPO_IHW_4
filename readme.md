# Система заказов по покупке билетов

### Выполнила: Ларина Дарья Армановна
### Группа: БПИ224

## Общая информация

Система реализована в виде двух микросервисов, работающих через RESTful API:

- Auth Service (Сервис аутентификации): обрабатывает регистрацию и аутентификацию пользователя, предоставляет информацию о пользователе
- Ticket Order Service (Сервис заказов): позволяет создавать и обрабатывать заказы на покупку железнодорожных билетов, предоставляет информацию о заказе

## Запуск проекта

1. Скачайте и разархивируйте проект
2. Откройте в терминале директорию проекта
3. Выполните команду `docker-compose up -d --build` (предполагается, что Docker запущен)
4. После запуска сервисов API документация будет доступна по следующим ссылкам:
   - Auth Service: http://localhost:8081/swagger-ui.html
   - Ticket Order Service: http://localhost:8082/swagger-ui.html

Конечные точки API подробно описаны в Swagger, который предоставляет интерактивную документацию и возможность тестирования API.

## Автоматическое заполнение БД с помощью миграций

- Все таблицы создаются с помощью миграций
- В таблице `user` создается дефолтный пользователь: `nickname = default`, `email = default@default.ru`, `password = ddDD77!!`
- В таблице `station` создаются шесть станций: \
  (1) Moscow (Kazansky) \
  (2) Saint Petersburg (Moskovsky) \
  (3) Samara \
  (4) Novosibirsk (Glavny) \
  (5) Yekaterinburg \
  (6) Kazan

## Архитектура микросервисов

Система состоит из двух микросервисов, каждый из которых имеет свою базу данных и набор компонентов, разделенных по функциональным областям:

- `config` - конфигурационные классы для разных настроек
- `controller` - обработка HTTP запросов, перенаправление их в сервисный слой
- `dto` - объекты для переноса данных между слоями и сервисами
- `exception` - классы обработчиков исключений
- `model` - классы, определяющие структуру данных и связи в базе данных, представляющие сущности и их взаимодействия
- `repository` - интерфейсы взаимодействия с базами данных
- `service` - бизнес-логика приложения, обработка данных и взаимодействие с репозиториями
- `util` - вспомогательные инструменты и утилиты для общих функций

Каждый микросервис работает независимо и общается с другим через REST API, используя JSON Web Tokens (JWT) для аутентификации и авторизации запросов. Это обеспечивает изоляцию и независимость сервисов, что повышает надежность и упрощает масштабирование системы.

## Технологии

Проект реализован с использованием следующих технологий:

- Spring Boot Starter Data JPA
- Spring Boot Starter Security
- Spring Boot Starter Validation
- Spring Boot Starter Web
- Jackson Module Kotlin
- Kotlin Reflect
- Kotlin Standard Library
- Liquibase Core
- Spring Boot Docker Compose
- PostgreSQL
- Spring Boot Starter Test
- Kotlin Test JUnit5
- Spring Security Test
- SpringDoc OpenAPI Starter WebMvc UI
- JJWT API
- JJWT Implementation
- JJWT Jackson
